{% extends "base.html" %}
{% block content %}
<div class="container mt-5" style="max-width: 700px;">
  <h2 class="mb-4">Add Payment Pending Client</h2>
  <form method="POST">
    {% csrf_token %}

    <div class="mb-3">
      <label for="client_name" class="form-label fw-bold">Client Name</label>
      <input type="text" class="form-control" id="client_name" name="client_name" required>
    </div>
    <div class="mb-3">
      <label for="client_phone" class="form-label fw-bold">Client Phone Number</label>
      <input type="text" class="form-control" id="client_phone" name="client_phone" placeholder="Enter client phone number" required>
    </div>
    
    <div class="mb-3">
      <label for="duration" class="form-label fw-bold">Subscription Duration</label>
      <select class="form-control" id="duration" name="duration" required onchange="toggleDurationFields()">
        <option value="">Select duration</option>
        <option value="monthly">Monthly</option>
        <option value="yearly">Yearly</option>
        <option value="lifetime">Lifetime</option>
      </select>
    </div>
    <div class="mb-3" id="monthly_fields" style="display:none;">
      <label class="form-label fw-bold">Number of Months</label>
      <input type="number" class="form-control" name="months" min="1">
      <label class="form-label fw-bold mt-2">From Month</label>
      <input type="month" class="form-control" name="start_month">
      <label class="form-label fw-bold mt-2">To Month</label>
      <input type="month" class="form-control" name="end_month">
    </div>
    <div class="mb-3" id="yearly_fields" style="display:none;">
      <label class="form-label fw-bold">Number of Years</label>
      <input type="number" class="form-control" name="years" min="1">
      <label class="form-label fw-bold mt-2">From Year</label>
      <input type="number" class="form-control" name="start_year" min="2000" max="2100">
      <label class="form-label fw-bold mt-2">To Year</label>
      <input type="number" class="form-control" name="end_year" min="2000" max="2100">
    </div>
    <script>
    function toggleDurationFields() {
      let val = document.getElementById("duration").value;
      document.getElementById("monthly_fields").style.display = val === "monthly" ? "block" : "none";
      document.getElementById("yearly_fields").style.display = val === "yearly" ? "block" : "none";
    }
    </script>
    
    <div class="mb-3">
      <label for="assigned_to" class="form-label fw-bold">Assign To</label>
      <select name="assigned_to" id="assigned_to" required>
        <option value="" selected>Select user</option>
        <option value="hari" >Hari</option>
        
      </select>
      
      
      

      </select>
    </div>
    <div class="mb-3">
      <label for="assigned_phone" class="form-label fw-bold">Assigned User Phone</label>
      <input type="text" class="form-control" id="assigned_phone" name="assigned_phone" placeholder="Enter assigned user's phone number" required />
    </div>
    <div class="mb-3">
      <label for="payment_amount" class="form-label fw-bold">Payment Amount</label>
      <input type="number" step="0.01" class="form-control" id="payment_amount" name="payment_amount" required />
    </div>
    <div class="mb-3">
      <label for="due_date" class="form-label fw-bold">Due Date</label>
      <input type="date" class="form-control" id="due_date" name="due_date" required />
    </div>
    <button type="submit" class="w-100 btn btn-primary">Submit</button>
  </form>
</div>
{% endblock %}
